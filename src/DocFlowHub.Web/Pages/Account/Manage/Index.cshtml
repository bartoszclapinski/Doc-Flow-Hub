@page
@model DocFlowHub.Web.Pages.Account.Manage.IndexModel
@{
    ViewData["Title"] = "Profile";
    ViewData["ActivePage"] = "Profile";
}

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <partial name="_ManageNav" />
        </div>
        <div class="col-md-9">
            <div class="card">
                <div class="card-header">
                    <h4>@ViewData["Title"]</h4>
                </div>
                <div class="card-body">
                    <partial name="_StatusMessage" />
                    
                    <div class="row">
                        <div class="col-md-4 text-center">
                            <div class="profile-picture-container mb-3">
                                @if (!string.IsNullOrEmpty(Model.Profile?.ProfilePictureUrl))
                                {
                                    <img src="@Model.Profile.ProfilePictureUrl" alt="Profile Picture" class="profile-picture" />
                                }
                                else
                                {
                                    <img src="~/images/default-profile.svg" alt="Default Profile Picture" class="profile-picture" />
                                }
                            </div>
                            <div class="mt-2">
                                <a asp-page="UploadProfilePicture" class="btn btn-outline-primary btn-sm">Change Picture</a>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <dl class="row">
                                <dt class="col-sm-3">Name</dt>
                                <dd class="col-sm-9">@Model.Profile?.FirstName @Model.Profile?.LastName</dd>

                                <dt class="col-sm-3">Email</dt>
                                <dd class="col-sm-9">@Model.Profile?.Email</dd>

                                <dt class="col-sm-3">Bio</dt>
                                <dd class="col-sm-9">@(string.IsNullOrEmpty(Model.Profile?.Bio) ? "No bio provided" : Model.Profile.Bio)</dd>

                                <dt class="col-sm-3">Member Since</dt>
                                <dd class="col-sm-9">@Model.Profile?.CreatedAt.ToString("MMMM dd, yyyy")</dd>
                            </dl>
                            <div class="mt-3">
                                <a asp-page="EditProfile" class="btn btn-primary">Edit Profile</a>
                                <a asp-page="ChangePassword" class="btn btn-outline-secondary">Change Password</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <style>
        .profile-picture-container {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 50%;
            border: 2px solid #dee2e6;
        }
        
        .profile-picture {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
} 